<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Echo | question.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:italic,wght@0,500&family=Inter:wght@300;400&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #1C1917; color: #F5F5F4; }
        .serif-font { font-family: 'Cormorant Garamond', serif; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-16 px-6">

    <div id="content" class="hidden w-full max-w-lg space-y-12">
        <div class="text-center space-y-2">
            <span id="display-id" class="text-[10px] tracking-[0.3em] text-stone-500 uppercase"></span>
            <h2 class="text-2xl serif-font italic">The Echo</h2>
        </div>

        <div class="border-l border-stone-700 pl-8 py-4">
            <p id="display-question" class="text-2xl md:text-3xl serif-font leading-tight italic"></p>
        </div>

        <div class="bg-stone-900/50 p-8 rounded-2xl border border-stone-800 shadow-2xl">
            <audio id="audio-player" controls class="w-full">
                <source id="audio-source" src="" type="audio/mp4">
            </audio>
            <p class="text-[10px] text-center mt-4 text-stone-500 tracking-widest uppercase">NotebookLM Reflection</p>
        </div>

        <div class="space-y-6 pt-8 border-t border-stone-800">
            <h3 class="text-[10px] tracking-[0.2em] uppercase text-stone-500">Your Reflection</h3>
            <textarea id="comment-box" rows="4" 
                class="w-full bg-stone-900 border border-stone-800 rounded-xl p-4 text-sm focus:outline-none focus:ring-1 focus:ring-stone-600 transition"
                placeholder="What did this question stir in you?"></textarea>
            <button class="w-full py-4 bg-stone-100 text-stone-900 rounded-full text-[10px] font-bold tracking-[0.2em] uppercase hover:bg-white transition">
                Post Reflection
            </button>
        </div>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const cardId = params.get('id');

        fetch('data.json')
            .then(res => res.json())
            .then(data => {
                const card = data[cardId];
                if (card) {
                    document.getElementById('display-id').innerText = `Card #${cardId}`;
                    document.getElementById('display-question').innerText = card.question;
                    document.getElementById('audio-source').src = card.audioUrl;
                    document.getElementById('audio-player').load();
                    document.getElementById('content').classList.remove('hidden');
                } else {
                    document.body.innerHTML = "<div class='text-center space-y-4'><h1 class='serif-font italic text-2xl'>Reflection not found.</h1><p class='text-xs text-stone-500 tracking-widest uppercase'>Check the Card ID and try again.</p></div>";
                }
            });
    </script>
</body>
</html>